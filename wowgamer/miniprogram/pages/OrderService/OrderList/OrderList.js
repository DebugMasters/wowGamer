"use strict";
const app = getApp();
Page({
    data: {
        userId: '',
        StatusBar: app.globalData.StatusBar,
        CustomBar: app.globalData.CustomBar,
        Custom: app.globalData.Custom,
        orderList: new Array()
    },
    onLoad: function (options) {
        this.setData({
            userId: options.id,
        });
    },
    onShow: function () {
        app.requestFuncPromise('/order/orderList', { userId: this.data.userId }, 'GET')
            .then(res => {
            this.setData({
                orderList: res.data.orderList
            });
        });
    },
    NavToOrderEntry: function (e) {
        let transdata = {
            mode: 'Detail',
            userId: this.data.userId,
            orderId: e.currentTarget.dataset.orderid
        };
        const comData = JSON.stringify(transdata);
        wx.navigateTo({
            url: '../OrderEntry/OrderEntry' + '?data=' + comData,
            success: function (res) { },
            fail: function () { },
            complete: function () { }
        });
    },
    ListTouchStart(e) {
        this.setData({
            ListTouchStart: e.touches[0].pageX
        });
    },
    ListTouchMove(e) {
        this.setData({
            ListTouchDirection: e.touches[0].pageX - this.data.ListTouchStart > 0 ? 'right' : 'left'
        });
    },
    ListTouchEnd(e) {
        if (this.data.ListTouchDirection == 'left') {
            this.setData({
                modalName: e.currentTarget.dataset.target
            });
        }
        else {
            this.setData({
                modalName: null
            });
        }
        this.setData({
            ListTouchDirection: null
        });
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiT3JkZXJMaXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiT3JkZXJMaXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFFQSxNQUFNLEdBQUcsR0FBRyxNQUFNLEVBQWMsQ0FBQTtBQUVoQyxJQUFJLENBQUM7SUFDSCxJQUFJLEVBQUU7UUFDSixNQUFNLEVBQUUsRUFBRTtRQUNWLFNBQVMsRUFBRSxHQUFHLENBQUMsVUFBVSxDQUFDLFNBQVM7UUFDbkMsU0FBUyxFQUFFLEdBQUcsQ0FBQyxVQUFVLENBQUMsU0FBUztRQUNuQyxNQUFNLEVBQUUsR0FBRyxDQUFDLFVBQVUsQ0FBQyxNQUFNO1FBQzdCLFNBQVMsRUFBRSxJQUFJLEtBQUssRUFBRTtLQUN2QjtJQUNELE1BQU0sRUFBRSxVQUFVLE9BQU87UUFDdkIsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUNYLE1BQU0sRUFBRSxPQUFPLENBQUMsRUFBRTtTQUNuQixDQUFDLENBQUE7SUFDSixDQUFDO0lBQ0QsTUFBTSxFQUFFO1FBQ04sR0FBRyxDQUFDLGtCQUFrQixDQUFDLGtCQUFrQixFQUFFLEVBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFDLEVBQUUsS0FBSyxDQUFDO2FBQzVFLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUNWLElBQUksQ0FBQyxPQUFPLENBQUM7Z0JBQ1gsU0FBUyxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUzthQUM5QixDQUFDLENBQUE7UUFDSixDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFDRCxlQUFlLEVBQUUsVUFBVSxDQUFNO1FBQy9CLElBQUksU0FBUyxHQUFHO1lBQ2QsSUFBSSxFQUFFLFFBQVE7WUFDZCxNQUFNLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNO1lBQ3hCLE9BQU8sRUFBRSxDQUFDLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxPQUFPO1NBQ3pDLENBQUE7UUFDRCxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzFDLEVBQUUsQ0FBQyxVQUFVLENBQUM7WUFDWixHQUFHLEVBQUUsMEJBQTBCLEdBQUcsUUFBUSxHQUFHLE9BQU87WUFDcEQsT0FBTyxFQUFFLFVBQVMsR0FBRyxJQUFHLENBQUM7WUFDekIsSUFBSSxFQUFFLGNBQWEsQ0FBQztZQUNwQixRQUFRLEVBQUUsY0FBYSxDQUFDO1NBQ3pCLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFHRCxjQUFjLENBQUMsQ0FBQztRQUNkLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDWCxjQUFjLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLO1NBQ25DLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFHRCxhQUFhLENBQUMsQ0FBQztRQUNiLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDWCxrQkFBa0IsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsTUFBTTtTQUN6RixDQUFDLENBQUE7SUFDSixDQUFDO0lBR0QsWUFBWSxDQUFDLENBQUM7UUFDWixJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsa0JBQWtCLElBQUcsTUFBTSxFQUFDO1lBQ3hDLElBQUksQ0FBQyxPQUFPLENBQUM7Z0JBQ1gsU0FBUyxFQUFFLENBQUMsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLE1BQU07YUFDMUMsQ0FBQyxDQUFBO1NBQ0g7YUFBTTtZQUNMLElBQUksQ0FBQyxPQUFPLENBQUM7Z0JBQ1gsU0FBUyxFQUFFLElBQUk7YUFDaEIsQ0FBQyxDQUFBO1NBQ0g7UUFDRCxJQUFJLENBQUMsT0FBTyxDQUFDO1lBQ1gsa0JBQWtCLEVBQUUsSUFBSTtTQUN6QixDQUFDLENBQUE7SUFDSixDQUFDO0NBRUYsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW5kZXgudHNcbi8vIOiOt+WPluW6lOeUqOWunuS+i1xuY29uc3QgYXBwID0gZ2V0QXBwPElBcHBPcHRpb24+KClcblxuUGFnZSh7XG4gIGRhdGE6IHtcbiAgICB1c2VySWQ6ICcnLFxuICAgIFN0YXR1c0JhcjogYXBwLmdsb2JhbERhdGEuU3RhdHVzQmFyLFxuICAgIEN1c3RvbUJhcjogYXBwLmdsb2JhbERhdGEuQ3VzdG9tQmFyLFxuICAgIEN1c3RvbTogYXBwLmdsb2JhbERhdGEuQ3VzdG9tLFxuICAgIG9yZGVyTGlzdDogbmV3IEFycmF5KClcbiAgfSxcbiAgb25Mb2FkOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICB1c2VySWQ6IG9wdGlvbnMuaWQsXG4gICAgfSlcbiAgfSxcbiAgb25TaG93OiBmdW5jdGlvbiAoKSB7XG4gICAgYXBwLnJlcXVlc3RGdW5jUHJvbWlzZSgnL29yZGVyL29yZGVyTGlzdCcsIHt1c2VySWQ6IHRoaXMuZGF0YS51c2VySWR9LCAnR0VUJylcbiAgICAudGhlbihyZXMgPT4ge1xuICAgICAgdGhpcy5zZXREYXRhKHtcbiAgICAgICAgb3JkZXJMaXN0OiByZXMuZGF0YS5vcmRlckxpc3RcbiAgICAgIH0pXG4gICAgfSlcbiAgfSxcbiAgTmF2VG9PcmRlckVudHJ5OiBmdW5jdGlvbiAoZTogYW55KSB7XG4gICAgbGV0IHRyYW5zZGF0YSA9IHtcbiAgICAgIG1vZGU6ICdEZXRhaWwnLFxuICAgICAgdXNlcklkOiB0aGlzLmRhdGEudXNlcklkLFxuICAgICAgb3JkZXJJZDogZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQub3JkZXJpZFxuICAgIH1cbiAgICBjb25zdCBjb21EYXRhID0gSlNPTi5zdHJpbmdpZnkodHJhbnNkYXRhKTtcbiAgICB3eC5uYXZpZ2F0ZVRvKHtcbiAgICAgIHVybDogJy4uL09yZGVyRW50cnkvT3JkZXJFbnRyeScgKyAnP2RhdGE9JyArIGNvbURhdGEsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpeyB9LFxuICAgICAgZmFpbDogZnVuY3Rpb24oKSB7IH0sXG4gICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7IH1cbiAgICB9KVxuICB9LFxuXG4gIC8vIExpc3RUb3VjaOinpuaRuOW8gOWni1xuICBMaXN0VG91Y2hTdGFydChlKSB7XG4gICAgdGhpcy5zZXREYXRhKHtcbiAgICAgIExpc3RUb3VjaFN0YXJ0OiBlLnRvdWNoZXNbMF0ucGFnZVhcbiAgICB9KVxuICB9LFxuXG4gIC8vIExpc3RUb3VjaOiuoeeul+aWueWQkVxuICBMaXN0VG91Y2hNb3ZlKGUpIHtcbiAgICB0aGlzLnNldERhdGEoe1xuICAgICAgTGlzdFRvdWNoRGlyZWN0aW9uOiBlLnRvdWNoZXNbMF0ucGFnZVggLSB0aGlzLmRhdGEuTGlzdFRvdWNoU3RhcnQgPiAwID8gJ3JpZ2h0JyA6ICdsZWZ0J1xuICAgIH0pXG4gIH0sXG5cbiAgLy8gTGlzdFRvdWNo6K6h566X5rua5YqoXG4gIExpc3RUb3VjaEVuZChlKSB7XG4gICAgaWYgKHRoaXMuZGF0YS5MaXN0VG91Y2hEaXJlY3Rpb24gPT0nbGVmdCcpe1xuICAgICAgdGhpcy5zZXREYXRhKHtcbiAgICAgICAgbW9kYWxOYW1lOiBlLmN1cnJlbnRUYXJnZXQuZGF0YXNldC50YXJnZXRcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICAgIG1vZGFsTmFtZTogbnVsbFxuICAgICAgfSlcbiAgICB9XG4gICAgdGhpcy5zZXREYXRhKHtcbiAgICAgIExpc3RUb3VjaERpcmVjdGlvbjogbnVsbFxuICAgIH0pXG4gIH0sXG4gIFxufSlcbiJdfQ==
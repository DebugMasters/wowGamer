"use strict";
const app = getApp();
Component({
    options: {
        addGlobalClass: true,
    },
    data: {
        loading: true,
        loadProgress: 0,
        articleList: [],
        carouselList: [],
        notificationList: ['AAA']
    },
    behaviors: [],
    lifetimes: {
        ready() {
        }
    },
    methods: {
        initData() {
            this.setData({
                loading: true,
                loadProgress: 0
            });
            this.loadProgress();
            this.getIndexInfo();
        },
        loadProgress() {
            this.setData({
                loadProgress: this.data.loadProgress + 3
            });
            if (this.data.loadProgress < 98) {
                setTimeout(() => {
                    this.loadProgress();
                }, 300);
            }
            else {
                if (!this.data.loading) {
                    return;
                }
            }
        },
        getIndexInfo() {
            app.requestFunc('/system/getIndexInfo', {}, 'GET', res => {
                console.log(res.data);
                if (res.data.success == true) {
                    this.setData({
                        carouselList: res.data.carouselList,
                        articleList: res.data.articleList,
                        loading: false
                    });
                }
            });
        },
        navToMy: function () {
            this.triggerEvent('switchTab', { tabIndex: '5' });
        },
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSG9tZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIkhvbWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE1BQU0sR0FBRyxHQUFHLE1BQU0sRUFBYyxDQUFBO0FBRWhDLFNBQVMsQ0FBQztJQUNSLE9BQU8sRUFBRTtRQUNQLGNBQWMsRUFBRSxJQUFJO0tBQ3JCO0lBQ0QsSUFBSSxFQUFFO1FBQ0osT0FBTyxFQUFFLElBQUk7UUFDYixZQUFZLEVBQUUsQ0FBQztRQUNmLFdBQVcsRUFBRSxFQUFFO1FBQ2YsWUFBWSxFQUFFLEVBQUU7UUFDaEIsZ0JBQWdCLEVBQUUsQ0FBQyxLQUFLLENBQUM7S0FDMUI7SUFFRCxTQUFTLEVBQUUsRUFBRTtJQUdiLFNBQVMsRUFBRTtRQUNULEtBQUs7UUFDTCxDQUFDO0tBQ0Y7SUFFRCxPQUFPLEVBQUU7UUFDUCxRQUFRO1lBQ04sSUFBSSxDQUFDLE9BQU8sQ0FBQztnQkFDWCxPQUFPLEVBQUUsSUFBSTtnQkFDYixZQUFZLEVBQUUsQ0FBQzthQUNoQixDQUFDLENBQUE7WUFDRixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7WUFDcEIsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQ3RCLENBQUM7UUFDRCxZQUFZO1lBQ1YsSUFBSSxDQUFDLE9BQU8sQ0FBQztnQkFDWCxZQUFZLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQzthQUN6QyxDQUFDLENBQUE7WUFDRixJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxHQUFHLEVBQUUsRUFBQztnQkFDOUIsVUFBVSxDQUFDLEdBQUcsRUFBRTtvQkFDZCxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7Z0JBQ3RCLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQTthQUNSO2lCQUFNO2dCQUNMLElBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRTtvQkFDckIsT0FBTTtpQkFDUDthQUNGO1FBQ0gsQ0FBQztRQUNELFlBQVk7WUFDVixHQUFHLENBQUMsV0FBVyxDQUFDLHNCQUFzQixFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLEVBQUU7Z0JBQ3ZELE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN0QixJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxJQUFJLElBQUksRUFBRTtvQkFDNUIsSUFBSSxDQUFDLE9BQU8sQ0FBQzt3QkFDWCxZQUFZLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxZQUFZO3dCQUNuQyxXQUFXLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxXQUFXO3dCQUVqQyxPQUFPLEVBQUUsS0FBSztxQkFDZixDQUFDLENBQUE7aUJBQ0g7WUFDSCxDQUFDLENBQUMsQ0FBQTtRQUNKLENBQUM7UUFDRCxPQUFPLEVBQUU7WUFDUCxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRSxFQUFDLFFBQVEsRUFBRSxHQUFHLEVBQUMsQ0FBQyxDQUFDO1FBQ2xELENBQUM7S0FDRjtDQUNGLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFwcCA9IGdldEFwcDxJQXBwT3B0aW9uPigpXG5cbkNvbXBvbmVudCh7XG4gIG9wdGlvbnM6IHtcbiAgICBhZGRHbG9iYWxDbGFzczogdHJ1ZSxcbiAgfSxcbiAgZGF0YToge1xuICAgIGxvYWRpbmc6IHRydWUsXG4gICAgbG9hZFByb2dyZXNzOiAwLFxuICAgIGFydGljbGVMaXN0OiBbXSxcbiAgICBjYXJvdXNlbExpc3Q6IFtdLFxuICAgIG5vdGlmaWNhdGlvbkxpc3Q6IFsnQUFBJ11cbiAgfSxcblxuICBiZWhhdmlvcnM6IFtdLFxuXG5cbiAgbGlmZXRpbWVzOiB7XG4gICAgcmVhZHkoKSB7XG4gICAgfVxuICB9LFxuXG4gIG1ldGhvZHM6IHtcbiAgICBpbml0RGF0YSgpIHtcbiAgICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICAgIGxvYWRQcm9ncmVzczogMFxuICAgICAgfSlcbiAgICAgIHRoaXMubG9hZFByb2dyZXNzKCk7XG4gICAgICB0aGlzLmdldEluZGV4SW5mbygpO1xuICAgIH0sXG4gICAgbG9hZFByb2dyZXNzKCl7XG4gICAgICB0aGlzLnNldERhdGEoe1xuICAgICAgICBsb2FkUHJvZ3Jlc3M6IHRoaXMuZGF0YS5sb2FkUHJvZ3Jlc3MgKyAzXG4gICAgICB9KVxuICAgICAgaWYgKHRoaXMuZGF0YS5sb2FkUHJvZ3Jlc3MgPCA5OCl7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMubG9hZFByb2dyZXNzKCk7XG4gICAgICAgIH0sIDMwMClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmKCF0aGlzLmRhdGEubG9hZGluZykge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXRJbmRleEluZm8oKSB7XG4gICAgICBhcHAucmVxdWVzdEZ1bmMoJy9zeXN0ZW0vZ2V0SW5kZXhJbmZvJywge30sICdHRVQnLCByZXMgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7XG4gICAgICAgIGlmIChyZXMuZGF0YS5zdWNjZXNzID09IHRydWUpIHtcbiAgICAgICAgICB0aGlzLnNldERhdGEoe1xuICAgICAgICAgICAgY2Fyb3VzZWxMaXN0OiByZXMuZGF0YS5jYXJvdXNlbExpc3QsXG4gICAgICAgICAgICBhcnRpY2xlTGlzdDogcmVzLmRhdGEuYXJ0aWNsZUxpc3QsXG4gICAgICAgICAgICAvLyBub3RpZmljYXRpb25MaXN0OiByZXMuZGF0YS5ub3RpZmljYXRpb25MaXN0XG4gICAgICAgICAgICBsb2FkaW5nOiBmYWxzZVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSxcbiAgICBuYXZUb015OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnRyaWdnZXJFdmVudCgnc3dpdGNoVGFiJywge3RhYkluZGV4OiAnNSd9KTtcbiAgICB9LFxuICB9XG59KSJdfQ==
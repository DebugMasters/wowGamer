"use strict";
App({
    globalData: {
        URL: 'http://39.100.37.104:8980/warcraft/a/api',
        isAuthorized: false,
        userInfo: undefined,
        StatusBar: 0,
        Custom: 0,
        CustomBar: 0,
        WindowHeight: 0,
        ScreenHeight: 0
    },
    onLaunch: function () {
        const userInfo = wx.getStorageSync('userInfo');
        if (userInfo != '') {
            this.globalData.userInfo = userInfo;
        }
        wx.getSystemInfo({
            success: e => {
                this.globalData.StatusBar = e.statusBarHeight;
                let custom = wx.getMenuButtonBoundingClientRect();
                this.globalData.Custom = custom;
                this.globalData.CustomBar = custom.bottom + custom.top - e.statusBarHeight;
                this.globalData.WindowHeight = e.windowHeight;
                this.globalData.ScreenHeight = e.screenHeight;
            }
        });
    },
    requestFuncPromise: function (api, data, method) {
        var promise = new Promise((resolve, reject) => {
            wx.request({
                url: this.globalData.URL + api,
                data: data,
                header: {
                    "Content-Type": "application/x-www-form-urlencoded"
                },
                method: method,
                success: res => resolve(res),
                fail: err => reject(err)
            });
        });
        return promise;
    },
    requestFunc: function (api, data, method, successfn, failfn) {
        wx.request({
            url: this.globalData.URL + api,
            data: data,
            header: {
                "Content-Type": "application/x-www-form-urlencoded"
            },
            method: method,
            success: successfn,
            fail: failfn
        });
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYXBwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxHQUFHLENBQWE7SUFDZCxVQUFVLEVBQUU7UUFFVixHQUFHLEVBQUUsMENBQTBDO1FBQy9DLFlBQVksRUFBRSxLQUFLO1FBQ25CLFFBQVEsRUFBRSxTQUFTO1FBQ25CLFNBQVMsRUFBRSxDQUFDO1FBQ1osTUFBTSxFQUFFLENBQUM7UUFDVCxTQUFTLEVBQUUsQ0FBQztRQUNaLFlBQVksRUFBRSxDQUFDO1FBQ2YsWUFBWSxFQUFFLENBQUM7S0FDaEI7SUFDRCxRQUFRLEVBQUU7UUFFUixNQUFNLFFBQVEsR0FBRyxFQUFFLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQy9DLElBQUcsUUFBUSxJQUFJLEVBQUUsRUFBRTtZQUNqQixJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUE7U0FDcEM7UUFDRCxFQUFFLENBQUMsYUFBYSxDQUFDO1lBQ2YsT0FBTyxFQUFFLENBQUMsQ0FBQyxFQUFFO2dCQUNYLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxlQUFlLENBQUM7Z0JBQzlDLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQywrQkFBK0IsRUFBRSxDQUFDO2dCQUNsRCxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7Z0JBQ2hDLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsZUFBZSxDQUFDO2dCQUMzRSxJQUFJLENBQUMsVUFBVSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUMsWUFBWSxDQUFDO2dCQUM5QyxJQUFJLENBQUMsVUFBVSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUMsWUFBWSxDQUFDO1lBQ2hELENBQUM7U0FDRixDQUFDLENBQUE7SUFDSixDQUFDO0lBQ0Qsa0JBQWtCLEVBQUUsVUFBVSxHQUFHLEVBQUUsSUFBSSxFQUFFLE1BQU07UUFDN0MsSUFBSSxPQUFPLEdBQUcsSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLEVBQUU7WUFDNUMsRUFBRSxDQUFDLE9BQU8sQ0FBQztnQkFDVCxHQUFHLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLEdBQUUsR0FBRztnQkFDN0IsSUFBSSxFQUFFLElBQUk7Z0JBQ1YsTUFBTSxFQUFFO29CQUNOLGNBQWMsRUFBRSxtQ0FBbUM7aUJBQ3BEO2dCQUNELE1BQU0sRUFBRSxNQUFNO2dCQUNkLE9BQU8sRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUM7Z0JBQzVCLElBQUksRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUM7YUFDekIsQ0FBQyxDQUFDO1FBRUwsQ0FBQyxDQUFDLENBQUE7UUFDRixPQUFPLE9BQU8sQ0FBQztJQUNqQixDQUFDO0lBQ0QsV0FBVyxFQUFFLFVBQVUsR0FBRyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLE1BQU07UUFDekQsRUFBRSxDQUFDLE9BQU8sQ0FBQztZQUNULEdBQUcsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsR0FBRSxHQUFHO1lBQzdCLElBQUksRUFBRSxJQUFJO1lBQ1YsTUFBTSxFQUFFO2dCQUNOLGNBQWMsRUFBRSxtQ0FBbUM7YUFDcEQ7WUFDRCxNQUFNLEVBQUUsTUFBTTtZQUNkLE9BQU8sRUFBRSxTQUFTO1lBQ2xCLElBQUksRUFBRSxNQUFNO1NBQ2IsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztDQUNGLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIi8vIGFwcC50c1xuQXBwPElBcHBPcHRpb24+KHtcbiAgZ2xvYmFsRGF0YToge1xuICAgIC8vIFVSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODk4MC93YXJjcmFmdC9hL2FwaScsXG4gICAgVVJMOiAnaHR0cDovLzM5LjEwMC4zNy4xMDQ6ODk4MC93YXJjcmFmdC9hL2FwaScsXG4gICAgaXNBdXRob3JpemVkOiBmYWxzZSxcbiAgICB1c2VySW5mbzogdW5kZWZpbmVkLFxuICAgIFN0YXR1c0JhcjogMCxcbiAgICBDdXN0b206IDAsXG4gICAgQ3VzdG9tQmFyOiAwLFxuICAgIFdpbmRvd0hlaWdodDogMCxcbiAgICBTY3JlZW5IZWlnaHQ6IDBcbiAgfSxcbiAgb25MYXVuY2g6IGZ1bmN0aW9uICgpIHtcbiAgICAvLyDnmbvlvZVcbiAgICBjb25zdCB1c2VySW5mbyA9IHd4LmdldFN0b3JhZ2VTeW5jKCd1c2VySW5mbycpO1xuICAgIGlmKHVzZXJJbmZvICE9ICcnKSB7XG4gICAgICB0aGlzLmdsb2JhbERhdGEudXNlckluZm8gPSB1c2VySW5mb1xuICAgIH1cbiAgICB3eC5nZXRTeXN0ZW1JbmZvKHtcbiAgICAgIHN1Y2Nlc3M6IGUgPT4ge1xuICAgICAgICB0aGlzLmdsb2JhbERhdGEuU3RhdHVzQmFyID0gZS5zdGF0dXNCYXJIZWlnaHQ7XG4gICAgICAgIGxldCBjdXN0b20gPSB3eC5nZXRNZW51QnV0dG9uQm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRoaXMuZ2xvYmFsRGF0YS5DdXN0b20gPSBjdXN0b207ICBcbiAgICAgICAgdGhpcy5nbG9iYWxEYXRhLkN1c3RvbUJhciA9IGN1c3RvbS5ib3R0b20gKyBjdXN0b20udG9wIC0gZS5zdGF0dXNCYXJIZWlnaHQ7XG4gICAgICAgIHRoaXMuZ2xvYmFsRGF0YS5XaW5kb3dIZWlnaHQgPSBlLndpbmRvd0hlaWdodDtcbiAgICAgICAgdGhpcy5nbG9iYWxEYXRhLlNjcmVlbkhlaWdodCA9IGUuc2NyZWVuSGVpZ2h0O1xuICAgICAgfVxuICAgIH0pXG4gIH0sXG4gIHJlcXVlc3RGdW5jUHJvbWlzZTogZnVuY3Rpb24gKGFwaSwgZGF0YSwgbWV0aG9kKSB7XG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB3eC5yZXF1ZXN0KHtcbiAgICAgICAgdXJsOiB0aGlzLmdsb2JhbERhdGEuVVJMICthcGksXG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIGhlYWRlcjoge1xuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJcbiAgICAgICAgfSxcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIHN1Y2Nlc3M6IHJlcyA9PiByZXNvbHZlKHJlcyksXG4gICAgICAgIGZhaWw6IGVyciA9PiByZWplY3QoZXJyKVxuICAgICAgfSk7XG5cbiAgICB9KVxuICAgIHJldHVybiBwcm9taXNlO1xuICB9LFxuICByZXF1ZXN0RnVuYzogZnVuY3Rpb24gKGFwaSwgZGF0YSwgbWV0aG9kLCBzdWNjZXNzZm4sIGZhaWxmbikge1xuICAgIHd4LnJlcXVlc3Qoe1xuICAgICAgdXJsOiB0aGlzLmdsb2JhbERhdGEuVVJMICthcGksXG4gICAgICBkYXRhOiBkYXRhLFxuICAgICAgaGVhZGVyOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJcbiAgICAgIH0sXG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3NmbixcbiAgICAgIGZhaWw6IGZhaWxmblxuICAgIH0pO1xuICB9LFxufSkiXX0=